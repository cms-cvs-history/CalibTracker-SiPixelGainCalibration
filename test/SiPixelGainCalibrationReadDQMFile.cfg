process test = {

######################################################
#
#   By Freya Blekman
#
######################################################

    module readfile = SiPixelGainCalibrationReadDQMFile {
	untracked string inputrootfile = "DQM_Gain_Run3233.root"
	untracked string record="SiPixelGainCalibrationOfflineRcd"
	untracked bool useMeanWhenEmpty = true
	untracked bool invertGain = false
	untracked bool appendMode =true
    }

    untracked PSet maxEvents = {untracked int32 input = 1}
    source = EmptyIOVSource{ 
        string timetype="runnumber"
        uint64 firstValue = 1
        uint64 lastValue = 1
        uint64 interval = 1
    }


    # Gain Calibration Service
    include "CondTools/SiPixel/data/SiPixelGainCalibrationService.cfi"
    service = PoolDBOutputService {
#	string connect = "oracle://cms_orcoff_int2r/CMS_COND_TIF_PIXELS"
	string connect = "sqlite_file:prova_rawdata.db"
	VPSet toPut={ 
	    {string record= "SiPixelGainCalibrationForHLTRcd" string tag ="GainCalib_HLTTEST2"},
	    {string record= "SiPixelGainCalibrationOfflineRcd" string tag ="GainCalib_OFFLINETEST2"}
	}   
	untracked string BlobStreamerName="TBufferBlobStreamingService"
	PSet DBParameters = { 
#	    untracked string authenticationPath = "/afs/cern.ch/cms/DB/conddb"
	    untracked string authenticationPath = "./"  
	    untracked int32 messageLevel = 10
     	}
    }

    path  p = {readfile}
}
